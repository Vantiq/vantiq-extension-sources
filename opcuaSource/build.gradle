group 'io.vantiq'
version 'unspecified'

apply plugin: 'groovy'
apply plugin: 'java'

sourceCompatibility = 1.8

ext {
    jacksonVersion = '2.9.3'
    eclipseMiloVersion = '0.2.1'
}

repositories {
    mavenCentral()
}

dependencies {
    compile project(":extjsdk")
    compile "com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}"
    compile 'commons-cli:commons-cli:1.4'
    compile 'org.codehaus.groovy:groovy-all:2.3.11'
    compile "org.eclipse.milo:sdk-client:${eclipseMiloVersion}"
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile "org.eclipse.milo:client-examples:${eclipseMiloVersion}"
}

test {
    useJUnit {
        excludeCategories 'io.vantiq.extsrc.opcua.categories.OnlyHandTests'
    }
}

task runExampleServer(type: JavaExec) {
    main = "io.vantiq.extsrc.opcua.io.vantiq.extsrc.opcua.sampleServer.RunExampleServer"
    classpath = sourceSets.test.runtimeClasspath
}